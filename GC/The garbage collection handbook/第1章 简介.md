# GC 简介



### 1.1 手动内存回收

手动回收如C语言中的free函数释放动态分配内存。

手动回收容易出现下面几个问题:

* 内存仍被引用时，却过早的回收。出现悬挂指针(dangling pointer)。
* 内存泄漏

在没有GC的语言中，常见的管理内存的方法:

* 管理对象所有权的一致性，比如完全避免在堆上分配内存，只在栈上分配内存。通过传值而不是传递引用的方式传递参数或返回值。使用自定义的内存管理器，如对象池，释放对象池而非单个对象
* c++中的智能指针



### 1.2 自动动态内存管理

自动内存管理可以解决手动内存回收带来的问题

* 悬挂指针  只有一个对象不被任何其他对象引用时才会被回收，所以不会产生悬挂指针
* 内存泄漏  对于内存泄漏，GC无法完全避免。有些可以跟踪到但永远不被访问的对象无法被回收。现实中的某些GC算法处于效率考虑会忽略部分对象的回收。

