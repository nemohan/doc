# 分代回收算法

分代回收算法的思想是对象的生命周期不同，可能大部分对象的生命周期很短。所以根据对象的生命周期将对象分成几代。每个对象维护一个年龄计数来区分是属于年轻一代还是老一代。分代回收只是一种策略，用到的方法还是标记-清除、复制这些算法

步骤：

* 将内存堆分成两部分，一部分用来存放年轻代对象。另一部分用来存放老年代对象。假设用于存放年轻代对象的堆是y,老年代的是o
* 分配对象 分配时先从堆y分配。若是空闲空间不够则使用复制算法回收来讲(minor gc)。
* 使用复制算法时需要将超过年龄的对象复制到老年代对象的堆
* 若复制对象到o时，没有空闲空间使用标记-清扫算法回收老年代的对象(major gc)
* 需要注意的就是老年代对象引用年轻代对象的处理。

![1575816166403](E:\doc\GC\assets\1575816166403.png)

### 列车算法

了解

