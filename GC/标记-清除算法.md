# 标记-清除(mark-sweep)算法

### mark-sweep (标记-清除算法)

标记-清除算法基本思想是标记活动对象，回收没有被标记的对象

算法描述：

* 标记阶段，标记从根可以到达的所有对象
* 清扫阶段，回收未标记的对象到空闲链表

分配内存可用的策略：Best-Fit、First-Fit、Worst-Fit

缺点：

* 导致内存碎片化
* 采用Best-Fit策略分配空间时会导致查找时间较长
* 缓存不友好，修改每个对象的标记位

#####  多空闲链表

回收对象时，可以根据对象占用空间大小将对象放到不同的空闲链表。比如大小为2、4、8、16等字节的链表。分配时根据要求的大小去对应的空闲链表分配。

##### 缓存友好的位图算法

将对象的标记位从对象中剥离出来放到位图中。那么应该是1位对应固定大小的字节数。若1位表示字节数太小，如4字节，那么表示4G内存需要128M内存未免浪费。若表示16字节，则只需要32M内存

